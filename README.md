# TSV 正規化・逆正規化ツール

このWebアプリケーションは、タブ区切り（TSV）形式のデータに対して以下の機能を提供します：

- **第一正規化（Normalize）**  
  コロン区切り（:）の複数値を展開し、全組み合わせを生成します。

- **第一正規化の逆変換（Denormalize）**  
  キーと値の2列TSVから、値をコロンで連結してまとめ直します。

---

## 使用方法

### 1. ファイル選択
画面上部の「ファイル選択」ボタンから `.tsv` ファイルをアップロードしてください。

### 2. 処理の選択
- `Normalize（第一正規化）` ボタンを押すと、多値セルを展開したTSVに変換されます。
- `Denormalize（逆変換）` ボタンを押すと、2列のTSVから多値形式にまとめ直します。

### 3. 結果の確認・保存
結果は画面に表示され、`結果をダウンロード` ボタンでファイル（`Normalize_result.tsv` または `Denormalize_result.tsv`）として保存できます。

---

## 仕様対応状況

| 項目 | 対応状況 | 備考 |
|------|----------|------|
| タブ区切りのTSV読み込み | ✅ | FileReader + `split('\t')` にて対応 |
| コロンで分割・展開（Normalize） | ✅ | DFSによる全組み合わせ生成 |
| 逆変換での値の結合（Denormalize） | ✅ | Map構造を使用 |
| 2列TSVへの対応 | ✅ | 必ずキー＋値の2列に整形 |
| 入出力形式の整合性 | ✅ | Normalize → Denormalize → Normalize でも元に戻る設計 |
| UIでの入出力 | ✅ | ファイル選択とダウンロードボタンによる対応 |
| ファイル名の自動命名 | ✅ | 処理種別に応じて命名を変更 |

---

## ⚠️ 仕様からの逸脱点と補足

以下の項目については、**現在の実装では仕様上の制限を厳密には検証していません**。実用上の問題はありませんが、必要に応じてバリデーションを追加することで対応可能です。

| 制限項目 | 状況 | 理由・補足 |
|----------|------|-------------|
| 列数の最大数（5列まで） | ⚠️ 未検証 | 入力ファイルが整っていれば問題なし。5列以上のエラー処理は未実装。 |
| セル内の値数（最大10個） | ⚠️ 未検証 | コロン区切りの数は制限していません。組み合わせ数に比例して出力が膨らむ点に注意。 |
| セル内文字数（最大10000文字） | ⚠️ 未検証 | JSの文字列処理としては問題ありませんが、明示的チェックは行っていません。 |
| 行数制限（Normalizeは無制限／Denormalizeは1000行まで） | ⚠️ 未検証 | ブラウザメモリに依存。軽量データを前提とした設計。 |
| 入力の文字種（ASCII印字可能文字のみ） | ⚠️ 未検証 | 全角文字や記号を含む場合の動作検証は行っていません。現状では受け入れ可能。 |

---

## 技術情報

- **使用技術**：HTML / CSS / JavaScript（ES6）
- **対応環境**：最新のWebブラウザ（Google Chrome推奨）
- **動作確認OS**：Windows 10, Linux（Ubuntu）  
- **ファイル入出力方式**：ローカルファイル読み書き（ブラウザ標準のFile API）

---

## 構成ファイル

```
📁JS-TSV-Normalizer/
├── index.html        # UI構成
├── style.css         # スタイリング
├── script.js         # Normalize/Denormalizeロジック
└── README.md         # 本ファイル
```



---

## ライセンス・利用条件

本ツールは学習・評価用途で自由に利用可能です。商用利用や再配布に関しては、必要に応じてご相談ください。

---

## 補足

- 処理中のファイルはブラウザ内でのみ扱われ、外部に送信されることはありません。
- 入出力ファイルの保存はユーザー操作に依存します。

---

